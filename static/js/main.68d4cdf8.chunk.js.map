{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onClick","onCardClick","onDeleteButtonClick","type","onCardLike","length","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","Date","getFullYear","ImagePopup","onClose","api","baseUrl","options","this","_baseUrl","_options","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","headers","body","JSON","stringify","cardId","putLike","deleteLike","all","getUserInfo","getInitialCards","authorization","PopupWithForm","isOpen","title","onSubmit","noValidate","children","buttonCaption","EditProfilePopup","useState","setName","description","setDescription","setButtonCaption","useEffect","e","preventDefault","onUpdateUser","id","minLength","maxLength","required","placeholder","value","onChange","evt","EditAvatarPopup","inputRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","onAddPlaceSubmit","DeleteCardPopup","onDeleteCardSubmit","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","cardToDelete","setCardToDelete","selectedCard","setSelectedCard","setCards","closeAllPopups","results","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","newInfo","setUserInfo","updatedInfo","setUserAvatar","postCard","updatedCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.68d4cdf8.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"#\" target=\"_self\" className=\"header__logo\"></a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nexport default function Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__remove ${isOwn ? 'element__remove_visible' : ''}`\r\n  );\r\n\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__like ${isLiked ? 'element__like_active' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onDeleteButtonClick(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <img src={props.card.link} alt={props.card.name} onClick={handleClick} className=\"element__image\" />\r\n      <button className={cardDeleteButtonClassName} onClick={handleCardDelete} name=\"element__remove\" type=\"button\"></button>\r\n      <div className=\"element__caption\">\r\n        <h2 className=\"element__title\">{props.card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} name=\"element__like\" type=\"button\"></button>\r\n          <p className=\"element__like-count\" >{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar profile__avatar_place_header\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }} >\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__line-container\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button className=\"profile__edit-button\" name=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n            </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" name =\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          { props.cards.map((card) => (\r\n            <Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onDeleteButtonClick={props.onDeleteButtonClick} />\r\n          )) }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {(new Date()).getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.card && 'popup_opened'}`}>\r\n      <div className=\"popup__container popup__container_type_view\">\r\n        <button className=\"popup__close\" name=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <img src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : 'увеличенное изображение'} className=\"popup__image\" />\r\n        <h2 className=\"popup__image-caption\">{props.card ? props.card.name : 'наименование изображения'}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(baseUrl, options) {\r\n    this._baseUrl = baseUrl;\r\n    this._options = options;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._baseUrl + '/users/me', this._options)\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._baseUrl + '/cards', this._options)\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  setUserInfo({name, about}) {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({ name, about })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  postCard({name, link}) {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      method: 'POST',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({ name, link })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(this._baseUrl + '/cards/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  putLike(cardId) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\r\n      method: 'PUT',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (!isLiked) {\r\n      return this.deleteLike(cardId);\r\n    } else {\r\n      return this.putLike(cardId);\r\n    }\r\n  }\r\n\r\n  setUserAvatar({ avatar }) {\r\n    return fetch(this._baseUrl + '/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({ avatar })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  getInitialData() {\r\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n  }\r\n\r\n}\r\n\r\nexport const api = new Api('https://mesto.nomoreparties.co/v1/cohort-21', {\r\n  headers: {\r\n    authorization: '18efd0cc-5a90-47e0-a265-11c194742f4a',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n      <div className={`popup__container popup__container_type_${props.type}`}>\r\n        <button className=\"popup__close\" name=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className={`popup__title popup__title_type_${props.type}`}>{props.title}</h2>\r\n        <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit} noValidate>\r\n          {props.children}\r\n          <button className=\"popup__submit-button\" name=\"popup__submit-button\" type=\"submit\">{props.buttonCaption}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useContext, useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [buttonCaption, setButtonCaption] = React.useState('Сохранить');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setDescription(currentUser.about || '');\r\n  }, [currentUser]);\r\n\r\n  React.useEffect(() => {\r\n    setButtonCaption('Сохранить');\r\n  }, [props.isOpen]);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n\r\n    setButtonCaption('Сохранение...');\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-profile\" type=\"form\" title=\"Редактировать профиль\" buttonCaption={buttonCaption} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input className=\"popup__input popup__input_value_name\" type=\"text\" id=\"profile-name\" minLength=\"2\" maxLength=\"40\" required placeholder = \"Имя\" value={name} onChange={handleChangeName} />\r\n      <span className=\"popup__input-error profile-name-error\">Ошибка</span>\r\n      <input className=\"popup__input popup__input_value_desc\" type=\"text\" id=\"profile-info\" minLength=\"2\" maxLength=\"200\" required placeholder = \"О себе\" value={description} onChange={handleChangeDescription} />\r\n      <span className=\"popup__input-error profile-info-error\">Ошибка</span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const inputRef = React.useRef();\r\n\r\n  const [buttonCaption, setButtonCaption] = React.useState('Сохранить');\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    setButtonCaption('Сохранение...');\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    inputRef.current.value = '';\r\n    setButtonCaption('Сохранить');\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-avatar\" type=\"avatar\" title=\"Обновить аватар\" buttonCaption={buttonCaption} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input ref={inputRef} className=\"popup__input popup__input_value_name\" type=\"url\" id=\"avatar-link\" required placeholder=\"Ссылка на картинку\" />\r\n      <span className=\"popup__input-error avatar-link-error\">Ошибка</span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n  const [buttonCaption, setButtonCaption] = React.useState('Сохранить');\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeLink(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    setButtonCaption('Сохранение...');\r\n    props.onAddPlaceSubmit({ name, link })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n    setButtonCaption('Сохранить');\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm name=\"add-card\" type=\"form\" title=\"Новое место\" buttonCaption={buttonCaption} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input className=\"popup__input popup__input_value_name\" type=\"text\" id=\"card-name\" maxLength=\"30\" required placeholder=\"Название\" value={name} onChange={handleChangeName} />\r\n      <span className=\"popup__input-error card-name-error\">Ошибка</span>\r\n      <input className=\"popup__input popup__input_value_desc\" type=\"url\" id=\"card-link\" required placeholder=\"Ссылка на картинку\" value={link} onChange={handleChangeLink} />\r\n      <span className=\"popup__input-error card-link-error\">Ошибка</span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction DeleteCardPopup(props) {\r\n\r\n  const [buttonCaption, setButtonCaption] = React.useState('Да');\r\n\r\n  useEffect(() => {\r\n    setButtonCaption('Да');\r\n  }, [props.isOpen])\r\n\r\n  function handleDeleteCardSubmit(evt) {\r\n    evt.preventDefault();\r\n    setButtonCaption('Удаление...');\r\n    props.onDeleteCardSubmit();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"delete-card\" type=\"dialog\" title=\"Вы уверены?\" buttonCaption={buttonCaption} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleDeleteCardSubmit} />\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import React from 'react';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\nimport {api} from '../utils/api.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport DeleteCardPopup from './DeleteCardPopup.js';\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\r\n  const [cardToDelete, setCardToDelete] = React.useState(null);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n    .then((results) => {\r\n      setCurrentUser(results);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка при получении данных с сервера: ${err}`);\r\n    });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n    .then((results) => {\r\n      setCards(results);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка при получении данных с сервера: ${err}`);\r\n    });\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeleteCardPopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(newInfo) {\r\n    api.setUserInfo(newInfo)\r\n      .then((updatedInfo) => {\r\n        setCurrentUser(updatedInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка при отправке данных на сервер: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(newInfo) {\r\n    api.setUserAvatar(newInfo)\r\n      .then((updatedInfo) => {\r\n        setCurrentUser(updatedInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка при отправке данных на сервер: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка при отправке данных на сервер: ${err}`);\r\n      });\r\n  }\r\n\r\n  // function handleCardDelete(deletedCard) {\r\n  //   api.deleteCard(deletedCard._id)\r\n  //     .then(() => {\r\n  //       setCards(cards.filter((card) => card._id !== deletedCard._id));\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(`Ошибка при отправке данных на сервер: ${err}`);\r\n  //     });\r\n  // }\r\n\r\n  function handleAddPlaceSubmit(newCard) {\r\n    api.postCard(newCard)\r\n      .then((updatedCard) => {\r\n        setCards([updatedCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка добавлении карточки: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleDeleteButtonClick(card) {\r\n    setCardToDelete(card);\r\n    setIsDeleteCardPopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardSubmit() {\r\n    api.deleteCard(cardToDelete._id)\r\n      .then(() => {\r\n        setCards(cards.filter((card) => card._id !== cardToDelete._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка при удалении карточки: ${err}`);\r\n      });\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"root\">\r\n          <div className=\"page\">\r\n            <Header />\r\n            <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onDeleteButtonClick={handleDeleteButtonClick} />\r\n            <Footer />\r\n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n            <EditAvatarPopup  isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit} />\r\n            <DeleteCardPopup isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onDeleteCardSubmit={handleDeleteCardSubmit} />\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          </div>\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}