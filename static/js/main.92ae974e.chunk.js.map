{"version":3,"sources":["components/Header/Header.js","utils/Api.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/ImagePopup/ImagePopup.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","api","baseUrl","options","this","_baseUrl","_options","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","name","about","method","headers","body","JSON","stringify","link","cardId","isLiked","putLike","deleteLike","avatar","all","getUserInfo","getInitialCards","authorization","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","src","alt","onClick","onCardClick","onCardDelete","type","onCardLike","length","Main","onEditAvatar","style","backgroundImage","onEditProfile","onAddPlace","cards","map","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","children","buttonCaption","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","minLength","maxLength","required","placeholder","value","onChange","evt","EditAvatarPopup","inputRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","onAddPlaceSubmit","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","closeAllPopups","results","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","deletedCard","deleteCard","filter","newInfo","setUserInfo","updatedInfo","setUserAvatar","postCard","updatedCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92ae974e.chunk.js","sourcesContent":["function Header() {\n  return (\n    <header className=\"header\">\n      <a href=\"#\" target=\"_self\" className=\"header__logo\"></a>\n    </header>\n  );\n}\n\nexport default Header;\n","class Api {\r\n  constructor(baseUrl, options) {\r\n    this._baseUrl = baseUrl;\r\n    this._options = options;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._baseUrl + '/users/me', this._options)\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._baseUrl + '/cards', this._options)\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  setUserInfo({name, about}) {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({ name, about })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  postCard({name, link}) {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      method: 'POST',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({ name, link })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(this._baseUrl + '/cards/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  putLike(cardId) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\r\n      method: 'PUT',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (!isLiked) {\r\n      return this.deleteLike(cardId);\r\n    } else {\r\n      return this.putLike(cardId);\r\n    }\r\n  }\r\n\r\n  setUserAvatar({ avatar }) {\r\n    return fetch(this._baseUrl + '/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({ avatar })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  getInitialData() {\r\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n  }\r\n\r\n}\r\n\r\nexport const api = new Api('https://mesto.nomoreparties.co/v1/cohort-21', {\r\n  headers: {\r\n    authorization: '18efd0cc-5a90-47e0-a265-11c194742f4a',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\r\n\r\nexport default function Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__remove ${isOwn ? 'element__remove_visible' : ''}`\r\n  );\r\n\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__like ${isLiked ? 'element__like_active' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <img src={props.card.link} alt={props.card.name} onClick={handleClick} className=\"element__image\" />\r\n      <button className={cardDeleteButtonClassName} onClick={handleCardDelete} name=\"element__remove\" type=\"button\"></button>\r\n      <div className=\"element__caption\">\r\n        <h2 className=\"element__title\">{props.card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} name=\"element__like\" type=\"button\"></button>\r\n          <p className=\"element__like-count\" >{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {api} from '../../utils/Api.js';\r\nimport Card from '../Card/Card.js';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar profile__avatar_place_header\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }} >\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__line-container\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button className=\"profile__edit-button\" name=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n            </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" name =\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          { props.cards.map((card) => (\r\n            <Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n          )) }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {(new Date()).getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n      <div className={`popup__container popup__container_type_${props.type}`}>\r\n        <button className=\"popup__close\" name=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className={`popup__title popup__title_type_${props.type}`}>{props.title}</h2>\r\n        <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit} noValidate>\r\n          {props.children}\r\n          <button className=\"popup__submit-button\" name=\"popup__submit-button\" type=\"submit\">{props.buttonCaption}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.card && 'popup_opened'}`}>\r\n      <div className=\"popup__container popup__container_type_view\">\r\n        <button className=\"popup__close\" name=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <img src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : 'увеличенное изображение'} className=\"popup__image\" />\r\n        <h2 className=\"popup__image-caption\">{props.card ? props.card.name : 'наименование изображения'}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React, { useContext, useState } from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-profile\" type=\"form\" title=\"Редактировать профиль\" buttonCaption=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input className=\"popup__input popup__input_value_name\" type=\"text\" id=\"profile-name\" minLength=\"2\" maxLength=\"40\" required placeholder = \"Имя\" value={name} onChange={handleChangeName} />\r\n      <span className=\"popup__input-error profile-name-error\">Ошибка</span>\r\n      <input className=\"popup__input popup__input_value_desc\" type=\"text\" id=\"profile-info\" minLength=\"2\" maxLength=\"200\" required placeholder = \"О себе\" value={description} onChange={handleChangeDescription} />\r\n      <span className=\"popup__input-error profile-info-error\">Ошибка</span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    inputRef.current.value = '';\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-avatar\" type=\"avatar\" title=\"Обновить аватар\" buttonCaption=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input ref={inputRef} className=\"popup__input popup__input_value_name\" type=\"url\" id=\"avatar-link\" required placeholder=\"Ссылка на картинку\" />\r\n      <span className=\"popup__input-error avatar-link-error\">Ошибка</span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeLink(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onAddPlaceSubmit({ name, link })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm name=\"add-card\" type=\"form\" title=\"Новое место\" buttonCaption=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input className=\"popup__input popup__input_value_name\" type=\"text\" id=\"card-name\" maxLength=\"30\" required placeholder=\"Название\" value={name} onChange={handleChangeName} />\r\n      <span className=\"popup__input-error card-name-error\">Ошибка</span>\r\n      <input className=\"popup__input popup__input_value_desc\" type=\"url\" id=\"card-link\" required placeholder=\"Ссылка на картинку\" value={link} onChange={handleChangeLink} />\r\n      <span className=\"popup__input-error card-link-error\">Ошибка</span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport Header from './Header/Header.js';\r\nimport Main from './Main/Main.js';\r\nimport Footer from './Footer/Footer.js';\r\nimport PopupWithForm from './PopupWithForm/PopupWithForm.js';\r\nimport ImagePopup from './ImagePopup/ImagePopup.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\nimport {api} from '../utils/Api.js';\r\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup.js';\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState('');\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n    .then((results) => {\r\n      setCurrentUser(results);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка при получении данных с сервера: ${err}`);\r\n    });\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(newInfo) {\r\n    api.setUserInfo(newInfo).then((updatedInfo) => {\r\n      setCurrentUser(updatedInfo);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(newInfo) {\r\n    api.setUserAvatar(newInfo).then((updatedInfo) => {\r\n      setCurrentUser(updatedInfo);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n    .then((results) => {\r\n      setCards(results);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка: ${err}`);\r\n    });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(deletedCard) {\r\n    api.deleteCard(deletedCard._id).then(() => {\r\n      setCards(cards.filter((card) => card._id !== deletedCard._id));\r\n    })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCard) {\r\n    api.postCard(newCard).then((updatedCard) => {\r\n      setCards([updatedCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"root\">\r\n          <div className=\"page\">\r\n            <Header />\r\n            <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\r\n            <Footer />\r\n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n            <EditAvatarPopup  isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit} />\r\n            <PopupWithForm name=\"delete-card\" type=\"dialog\" title=\"Обновить аватар\" buttonCaption=\"Да\" />\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          </div>\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}